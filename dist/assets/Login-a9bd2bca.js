import{_ as v}from"./avatar-deba3326.js";import{_ as w,u as b,a as y,r as d,b as a,o as k,c as I,d as e,e as l,F as L,p as V,f as S,g as C,h as B}from"./index-8bbbcb13.js";const i=t=>(V("data-v-8949acac"),t=t(),S(),t),E={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},P={class:"flex flex-column align-items-center justify-content-center"},T={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},j={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},U=i(()=>e("div",{class:"text-center mb-5"},[e("img",{src:v,alt:"Image",height:"50",class:"mb-3"}),e("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome!"),e("span",{class:"text-600 font-medium"},"Sign in to continue")],-1)),A=i(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"Email",-1)),F=i(()=>e("label",{for:"password1",class:"block text-900 font-medium text-xl mb-2"},"Password",-1)),N={__name:"Login",setup(t){const{layoutConfig:u}=b(),m=y(),p=`/layout/images/${u.darkTheme.value?"logo-white":"logo-dark"}.svg`,n=d(""),r=d(""),g=async()=>{try{const o=await C.post("http://localhost:8080/api/v1/auth/login",{email:n.value,password:r.value});if(console.log("Login response:",o),o.status===200){const s=o.data.token;console.log("Token received:",s),B.set("jwt",s,{expires:7,path:"/"}),alert("Login successful!"),m.push("/dashboard")}else console.error("Login failed:",o.data.message),alert("Login failed!")}catch(o){console.error("Error:",o),alert("Error occurred while logging in!")}};return(o,s)=>{const _=a("InputText"),f=a("Password"),x=a("Button"),h=a("AppConfig");return k(),I(L,null,[e("div",E,[e("div",P,[e("img",{src:p,alt:"Sakai logo",class:"mb-5 w-6rem flex-shrink-0"}),e("div",T,[e("div",j,[U,e("div",null,[A,l(_,{id:"email1",type:"text",placeholder:"Email address",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=c=>n.value=c)},null,8,["modelValue"]),F,l(f,{id:"password1",modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=c=>r.value=c),placeholder:"Password",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["modelValue"]),l(x,{label:"Sign In",class:"w-full p-3 text-xl",onClick:g})])])])])]),l(h,{simple:""})],64)}}},W=w(N,[["__scopeId","data-v-8949acac"]]);export{W as default};
